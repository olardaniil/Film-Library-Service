# Профильное задание. Стажировка VK
>Профильное задание на позицию "Go-разработчик" для стажировки VK.
Реализация бэкенд приложения "Фильмотека", который предоставляет REST API для управления базой данных фильмов.

Ссылка на Swagger 2.0 [здесь](http://t-app.ru/s7/swagger/index.html#/).

## Используемые технологии
![Go](https://img.shields.io/badge/go-%2300ADD8.svg?style=for-the-badge&logo=go&logoColor=white)
![Postgres](https://img.shields.io/badge/postgres-%23316192.svg?style=for-the-badge&logo=postgresql&logoColor=white)
![Docker](https://img.shields.io/badge/docker-%230db7ed.svg?style=for-the-badge&logo=docker&logoColor=white)
![Swagger](https://img.shields.io/badge/-Swagger-%23Clojure?style=for-the-badge&logo=swagger&logoColor=white)

## Реализованные требования к проекту
### Авторизация
* Реализована авторизация пользователя с выдачей JWT токена (только access).
> [!WARNING] 
> PS: Все API's закрыты авторизацией. 
> * Поддерживается две роли пользователей - обычный пользователь и администратор.
> * Обычный пользователь имеет доступ только на получение данных и поиск.
> * Администратор имеет доступ на все действия.
 

### Актёры
* Добавление информации об актёре.
* Изменение информации об актёре.
* Удаление информации об актёре.
* Получение списка актёров. Для каждого актёра выдаётся также список фильмов с его участием.

### Фильмы
* Добавление информации о фильме.
* Изменение информации о фильме.
* Удаление информации о фильме.
* Получение списка фильмов с возможностью сортировки по названию, по рейтингу, по дате выпуска. По умолчания используется сортировка по рейтингу (убывание).
* Поиск фильма по фрагменту названия или по фрагменту имени\фамилии актёра.

### Другое
* Предоставлена спецификация на API в формате Swagger 2.0.
* Для реализации http сервера использовалась только стандартная библиотека `net/http` (без фреймворков).
* Логирование. В лог попадает базовая информация об обрабатываемых запросах и ошибках.
* Dockerfile для сборки образа.
* docker-compose для запуска окружения с работающим приложением и СУБД.

## Локальный запуск проекта

> 1. Запуск проекта на локальном сервере производиться командой 
```
docker-compose up -d
```
> 2. Для миграции используйте команду:
```
migrate -path ./schema -database 'postgresql://root:root@localhost:5432/film_library_db?sslmode=disable' up
```
> 3. Swagger на локальном сервере доступен по URL:
```
http://127.0.0.1:8080/swagger/index.html
```
